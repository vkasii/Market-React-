{"version":3,"file":"static/js/820.c749de2e.chunk.js","mappings":"kJACA,QAAwB,iCAAxB,EAAwE,wCAAxE,EAAsI,+CAAtI,EAAqM,yCCArM,EAAkC,sCAAlC,EAAgF,4B,aCChF,MASA,EATqBA,KAEjBC,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAuBC,SAAA,EACrCC,EAAAA,EAAAA,KAAA,MAAIH,UAAWC,EAAaC,SAAC,+BAC7BC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,oE,6BCCT,MAuDA,EAvD0BE,KACxB,MAAMC,GAAWC,EAAAA,EAAAA,OAEVC,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,KAC5BC,EAAOC,IAAYF,EAAAA,EAAAA,UAAS,KAC5BG,EAASC,IAAcJ,EAAAA,EAAAA,WAAS,GACjCK,GAAWC,EAAAA,EAAAA,MAEXC,EAAa,kBAMnBC,EAAAA,EAAAA,YAAU,KACmC,SAA3CC,aAAaC,QAAQ,mBAAgCd,EAAS,YAAY,GACzE,CAACA,IAmBJ,OACEF,EAAAA,EAAAA,KAAAiB,EAAAA,SAAA,CAAAlB,SACGU,GAAUT,EAAAA,EAAAA,KAACL,EAAY,KACtBC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWE,SAAA,EACxBC,EAAAA,EAAAA,KAAA,MAAIH,UAAWC,EAAaC,SAAC,cAC7BH,EAAAA,EAAAA,MAAA,QAAMC,UAAWC,EAAqBoB,SAtBxBC,IACpBA,EAAMC,iBACDP,EAAWQ,KAAKjB,IAIrBI,EAAS,IACTE,GAAW,GACXC,GAASW,EAAAA,EAAAA,OAETP,aAAaQ,QAAQ,iBAAkB,QAEvCC,YAAW,KACTtB,EAAS,IAAI,GACZ,MAXDM,EAAS,gEAWH,EAQ2DT,SAAA,EAC3DC,EAAAA,EAAAA,KAAA,SAAOyB,QAAQ,iBAAgB1B,SAAC,sFAChCC,EAAAA,EAAAA,KAAA,SAAO0B,GAAG,iBAAiBC,MAAOvB,EAAOwB,KAAK,MAAMC,SAhCxCV,IACpBd,EAASc,EAAMW,OAAOH,MAAM,EA+BwDI,YAAY,mBACxFnC,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAA2BC,SAAA,CACxCQ,IAASP,EAAAA,EAAAA,KAAA,KAAGH,UAAW,GAAGC,gBAAmCC,SAAEQ,KAChEP,EAAAA,EAAAA,KAAA,UAAQ4B,KAAK,SAAS/B,UAAU,wBAAuBE,SAAC,sBAK/D,C","sources":["webpack://dummyMarket/./src/components/checkout/CheckoutComponent.module.css?a339","webpack://dummyMarket/./src/components/orderSuccess/OrderSuccess.module.css?ab1a","components/orderSuccess/OrderSuccess.js","components/checkout/CheckoutComponent.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"title\":\"CheckoutComponent_title__h3K91\",\"checkoutForm\":\"CheckoutComponent_checkoutForm__IAZ+T\",\"validationContainer\":\"CheckoutComponent_validationContainer__3ZnPZ\",\"checkoutError\":\"CheckoutComponent_checkoutError__HxxrN\"};","// extracted by mini-css-extract-plugin\nexport default {\"thankYouMessage\":\"OrderSuccess_thankYouMessage__sgoMi\",\"title\":\"OrderSuccess_title__elXkn\"};","import styles from './OrderSuccess.module.css'\n\nconst OrderSuccess = () => {\n  return (\n    <div className={styles.thankYouMessage}>\n      <h2 className={styles.title}>Thank you for your order!</h2>\n      <p>Our manager will contact you shortly to confirm the details.</p>\n    </div>\n  )\n}\n\nexport default OrderSuccess","import { useEffect, useState } from 'react';\nimport styles from './CheckoutComponent.module.css'\nimport OrderSuccess from '../orderSuccess/OrderSuccess';\nimport { useDispatch } from 'react-redux';\nimport { clearCart } from '../../redux/cartProductsSlice/cartProductsSlice';\nimport { useNavigate } from 'react-router-dom';\n\nconst CheckoutComponent = () => {\n  const navigate = useNavigate();\n\n  const [phone, setPhone] = useState('');\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState(false);\n  const dispatch = useDispatch()\n\n  const phoneRegex = /^\\+38(0\\d{9})$/;\n\n  const handleChange = (event) => {\n    setPhone(event.target.value);\n  };\n\n  useEffect(() => {\n    localStorage.getItem('orderCompleted') === 'true' && navigate('/products')\n  }, [navigate])\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (!phoneRegex.test(phone)) {\n      setError('Please enter a valid phone number in the format +380XXXXXXXXX');\n      return;\n    }\n    setError('');\n    setSuccess(true);\n    dispatch(clearCart());\n\n    localStorage.setItem('orderCompleted', 'true');\n\n    setTimeout(() => {\n      navigate('/')\n    }, 7000)\n  };\n\n  return (\n    <>\n      {success ? <OrderSuccess /> :\n        <div className='container'>\n          <h2 className={styles.title}>Checkout</h2>\n          <form className={styles.checkoutForm} onSubmit={handleSubmit}>\n            <label htmlFor='contact-number'>Enter your phone number, and our manager will contact you to confirm your order.</label>\n            <input id='contact-number' value={phone} type='tel' onChange={handleChange} placeholder=\"+380XXXXXXXXX\" />\n            <div className={styles.validationContainer}>\n              {error && <p className={`${styles.checkoutError} error-color`}>{error}</p>}\n              <button type='submit' className='default-btn brand-btn'>Confirm</button>\n            </div>\n          </form>\n        </div>\n      }\n    </>\n\n  )\n}\n\nexport default CheckoutComponent"],"names":["OrderSuccess","_jsxs","className","styles","children","_jsx","CheckoutComponent","navigate","useNavigate","phone","setPhone","useState","error","setError","success","setSuccess","dispatch","useDispatch","phoneRegex","useEffect","localStorage","getItem","_Fragment","onSubmit","event","preventDefault","test","clearCart","setItem","setTimeout","htmlFor","id","value","type","onChange","target","placeholder"],"sourceRoot":""}