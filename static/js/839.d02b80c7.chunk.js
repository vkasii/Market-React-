"use strict";(self.webpackChunkdummyMarket=self.webpackChunkdummyMarket||[]).push([[839],{839:(r,e,t)=>{t.r(e),t.d(e,{default:()=>$});var a=t(43);const s="ProductCards_cardsContainer__jdgBf";var d=t(3),o=t(878),c=t(298);const i="Categories_categoriesContainer__sbYmQ",n="Categories_categoryItem__Ty4Zr",l="Categories_darkCategory__QZKW-",u="Categories_activeCategory__fnfD9";var _=t(579);const C=r=>{let{categories:e,currentCategory:t,setCurrentCategory:a}=r;const s=(0,d.d4)((r=>r.darkMode.value));return(0,_.jsx)("div",{className:i,children:e.map((r=>(0,_.jsx)("button",{className:`${n} ${r===t?u:""} ${s?l:""}`,type:"button",onClick:()=>a(r),children:r},r)))})};var m=t(472);const h="ProductCard_cardItem__zHDic",g="ProductCard_whiteCard__AjIjZ",j="ProductCard_cardImage__HloC7",x="ProductCard_cardContainer__fazIk",p="ProductCard_productCardTitle__ydc-P",P="ProductCard_cardInfo__pi-VI",y="ProductCard_detail__lg6Km",f="ProductCard_buttonsContainer__mQ+fy",v="ProductCard_detailBtn__DInja",N="ProductCard_added__+kSNI";var k=t(727),I=t(692);const b=r=>{let{product:e,addProductToCart:t,removeProductFromCart:s,isProductInCart:o,index:c}=r;const i=o(e.id),[n,l]=(0,a.useState)(!0),u=(0,d.d4)((r=>r.darkMode.value));return(0,_.jsxs)("div",{className:`${u?"":g} ${h}`,children:[n&&(0,_.jsx)(I.A,{}),(0,_.jsx)("img",{src:`http://localhost:4000/image?url=${encodeURIComponent(e.thumbnail)}&width=300`,width:"300",height:"300",onLoad:()=>{l(!1)},className:j,alt:e.title,loading:c>7?"lazy":"eager",fetchPriority:c>7?"auto":"high"}),(0,_.jsxs)("div",{className:x,children:[(0,_.jsx)("h4",{className:p,children:(0,_.jsx)(k.N_,{to:`/product/${e.id}`,children:e.title})}),(0,_.jsxs)("p",{className:P,children:["Price: ",(0,_.jsxs)("span",{className:"action-color",children:["$",e.price]})]}),(0,_.jsxs)("p",{className:y,children:["Category: ",(0,_.jsx)("strong",{children:e.category})]}),(0,_.jsxs)("div",{className:f,children:[(0,_.jsx)(k.N_,{className:v,to:`/product/${e.id}`,children:"Details"}),i?(0,_.jsx)(m.A,{onClick:()=>s(e.id),badge:String.fromCharCode(10003),className:N}):(0,_.jsx)(m.A,{onClick:()=>t(e)})]})]})]},e.id)},w=()=>{const{category:r}=(0,k.g)(),[e,t]=(0,a.useState)([]),[i,n]=(0,a.useState)(r||"all"),l=(0,d.d4)((r=>r.cart.cartProducts)),{products:u,loading:m,error:h}=(0,d.d4)((r=>r.products)),g=(0,d.d4)(c.uw),j=(0,d.wA)();function x(r){return l.some((e=>e.id===r))}function p(r){j((0,o.Bj)({...r,amount:1,summ:r.price}))}function P(r){j((0,o.qY)(r))}return(0,a.useEffect)((()=>{j((0,o.Pr)())}),[j]),(0,a.useEffect)((()=>i&&"all"!==i?t(u.filter((r=>r.category===i&&r))):(console.log("products",u),t(u))),[u,i]),(0,_.jsxs)("div",{className:"container",children:[(0,_.jsx)(C,{categories:["all",...g],currentCategory:i,setCurrentCategory:n}),m?(0,_.jsx)(I.A,{}):h?(0,_.jsx)("p",{style:{textAlign:"center"},children:"Sorry, there is an issue with the server. We are working hard to fix it as soon as possible"}):(0,_.jsx)("div",{className:s,children:e.map(((r,e)=>(0,_.jsx)(b,{product:r,index:e,addProductToCart:p,removeProductFromCart:P,isProductInCart:x},r.id)))})]})},$=()=>(0,_.jsx)("div",{children:(0,_.jsx)(w,{})})}}]);
//# sourceMappingURL=839.d02b80c7.chunk.js.map